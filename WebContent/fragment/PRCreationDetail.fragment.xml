<core:FragmentDefinition xmlns="sap.m" xmlns:l="sap.ui.layout"
	xmlns:table="sap.ui.table" xmlns:commons="sap.ui.commons" xmlns:form="sap.ui.layout.form"
	xmlns:core="sap.ui.core">
	<Page id="PRCreationDetail" showHeader="false" class="sapUiPRCreation test05 updatedToolBarHeaderTitle01">
		<subHeader>
			<Bar> 
				<contentLeft>
					<Text text="{/BTSUBJ}"/>
				</contentLeft>
				<contentMiddle>
					<Text id="oConfirmD" class="imMidHeaderText"/>
				</contentMiddle>
				<contentRight>
					<Text text="Document No."/>
					<Text id="BGTDOC" text="{/BGTDOC}"/>
					<!-- <Button id="edit" text="Edit" press="onEditPress" /> -->
				</contentRight>
			</Bar>
		</subHeader>
		<IconTabBar id="oIconTab" class="sapUiResponsiveContentPadding" expanded="false">
			<items>
				<IconTabFilter text="WorkFlow" icon="sap-icon://manager" key="workflowInfo">
					<!-- <commons:Button text="Approval Path" icon="sap-icon://search"
						press="onSelectWorkFlow" /> -->
					<commons:Button id="oAddCP" text="Cooperation Path" icon="sap-icon://search"
						press="zhmmaim.util.Commons.onSelectCooperation" />
					<Table id="oCreateWF" columns="{/}" showNoData="false" class="tblApprovalLine">
						<infoToolbar>
								<Toolbar>
									<Text text="Approval Line" level="H5"/>
								</Toolbar>
							</infoToolbar> 
						<columns>
							<Column>
								<Text text="{DUTY_NAME}"/>
							</Column>
						</columns>
						<items>
							<ColumnListItem cells="{/}">
								<Text text="{ENGLISH_NAME}"/>
							</ColumnListItem>
							<ColumnListItem cells="{/}">
								<Text text="{path:'ARDAT',
											type:'sap.ui.model.type.Date',
											formatOptions:{
												pattern:'MM/dd/yyyy',
												source:{
													pattern:'yyyyMMdd'
													}
												}
											}"/>
							</ColumnListItem>
							<ColumnListItem cells="{/}"  visible="false" >
								<Text text="{USER_ID}"/>
							</ColumnListItem>
						</items>
					</Table>
					<Table id="oIOCreateCP" columns="{/}" showNoData="false" class="tblCooperationLine">
						<infoToolbar>
								<Toolbar>
									<Text text="Cooperation Line" level="H5"/>
								</Toolbar>
							</infoToolbar>
							<columns>
								<Column>
									<Text text="{DUTY_NAME}"/>
								</Column>
							</columns>
							<items>
								<ColumnListItem cells="{/}">
									<Text text="{ENGLISH_NAME}"/>
								</ColumnListItem>
								<ColumnListItem cells="{/}">
								<Text text="{path:'ARDAT',
											type:'sap.ui.model.type.Date',
											formatOptions:{
												pattern:'MM/dd/yyyy',
												source:{
													pattern:'yyyyMMdd'
													}
												}
											}"/>
								</ColumnListItem>
								<ColumnListItem cells="{/}"  visible="false" >
									<Text text="{USER_ID}"/>
								</ColumnListItem>
							</items>
						</Table>
				</IconTabFilter>
				<IconTabFilter text="Attachments" icon="sap-icon://attachment">
					<!-- Attach Information -->
					<UploadCollection id="oAlreadyUpload" 
							maximumFilenameLength="55"
							maximumFileSize="20" 
							sameFilenameAllowed="true"
							multiple="true"
							instantUpload="false"
							showSeparators="All"
							uploadEnabled="false"
							items="{/IMIOPRNavi/results/0/IMIOPRFileNavi/results/}"
							class="cAttachmentForm">
							<items>
								<UploadCollectionItem
									enableEdit="false"
									enableDelete="false"
									visibleDelete="false"
									visibleEdit="false"
									fileName="{ID}"
									url="{URI}">
								</UploadCollectionItem>
							</items>
						</UploadCollection>
						<UploadCollection
							id="oUploadCollection"
							noDataText="No Data"
							maximumFilenameLength="500"
							maximumFileSize="20"
							multiple="true"
							sameFilenameAllowed="true"
							instantUpload="false"
							showSeparators="All"
							class="cAttachmentForm PRAttachDisplay">
				</UploadCollection>
				</IconTabFilter>
				<IconTabFilter text="Comment" icon="sap-icon://comment" key="commentInfo">
					<!-- Comment Information -->
					<form:SimpleForm
						layout = "ResponsiveGridLayout"
						labelSpanL = "2"
						labelSpanM = "2"
						emptySpanL = "1"
						emptySpanM = "1"
						columnL = "1"
						columnM = "1">
						<form:content>
							<Label id="SwitchText" text="Need to Cooperation?" class="sapUiSmallMarginTop">
								<layoutData>
									<l:GridData span="L2 M2 S2" />
								</layoutData>
							</Label>
							<Switch id="SwitchCP" type="Default" state="false" change="onSwitchCP" class="sapUiSmallMarginBegin">
								<layoutData>
									<l:GridData span="L1 M1 S1"/>
								</layoutData>
							</Switch>
							<Input id="oRVSearch" type="Text" visible="false" value="" enabled="false"
									maxSuggestionWidth="700px"
									showTableSuggestionValueHelp="false"
									showSuggestion="true"
									suggestionRows="{/results}"
									liveChange="onCallRVPossible">
									<suggestionColumns>
											<Column
												hAlign="Begin"
												popinDisplay="Inline"
												demandPopin="true">
												<Label text="Name"/> 
											</Column>
											<Column
												hAlign="Begin"
												popinDisplay="Inline"
												demandPopin="true">
												<Label text="Title"/>
											</Column>
											<Column
												hAlign="Begin"
												popinDisplay="Inline"
												demandPopin="true">
												<Label text="Dept Name"/>
											</Column>
											<Column
												hAlign="Begin"
												popinDisplay="Inline"
												demandPopin="true">
												<Label text="Telephone"/>
											</Column>
									</suggestionColumns>
									<suggestionRows>
										<ColumnListItem>
											<cells>
												<Label text="{ENGLISH_NAME}"/>
												<Label text="{DUTY_NAME}"/>
												<Label text="{DEPT_NAME}"/>
												<Label text="{TELEPHONE}"/>
											</cells>
										</ColumnListItem>
									</suggestionRows>
								<layoutData>
								<l:GridData span="L2 M2 S2" />
								</layoutData>
							</Input>
							<Label text="Comment" class="sapUiSmallMarginTop"/>
							<TextArea id="comment" 
								row="3"
								cols="30"
								wrapping="Soft"
								liveChange="handleLiveChange"/>
							<Label/>
							<List id="oApprTextList" items="{/}" showNoData="false">
								<FeedListItem
									sender="{ENGLISH_NAME}"
									text = "{RTEXT}" 
									info = "{STATUS}"
									timestamp = "{path:'TIMESTAMP',
													type:'sap.ui.model.type.Date',
													formatOptions:{
														pattern:'MM/dd/yyyy',
														source:{
															pattern:'yyyyMMdd'
															}
														}
													}"
									showIcon="false"
								/>							
							</List>
							<Label/>
							<List>
								<FeedListItem
									id="getValue"
									sender="(Approver){USER_ID}"
									text = ""
									showIcon="false"
								/>							
							</List>
						</form:content>
					</form:SimpleForm>
				</IconTabFilter>
			</items>
		</IconTabBar>

		<!-- Call the PRCreationCommons.fragment.xml -->
		<core:Fragment fragmentName="zhmmaim.fragment.PRCreationCommons" type="XML"/>
		
		<footer>
			<Bar>
				<contentRight>
					<ToggleButton icon="sap-icon://save" type="Emphasized" press="zhmmaim.util.AttachPrint.generatePDF"/>
					<ToggleButton id="Approve" type="Emphasized" text="Approve" press="onApproveDialog" />
					<ToggleButton id="Reject" type="Emphasized" text="Reject" press="onRejectDialog" />
					<ToggleButton id="Consider" type="Emphasized" text="Consideration" visible="false" press="onConsiderDialog"/>
				</contentRight>
			</Bar>
		</footer>
		<!-- Print/ Auto Attach Hidden Area -->
            <core:Fragment fragmentName="zhmmaim.fragment.PRCreationCommonsPdf" type="XML"/>
	</Page>
</core:FragmentDefinition>